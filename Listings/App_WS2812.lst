C51 COMPILER V9.60.7.0   APP_WS2812                                                        01/05/2026 22:26:27 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE APP_WS2812
OBJECT MODULE PLACED IN .\Objects\App_WS2812.obj
COMPILER INVOKED BY: E:\AAAAAA\Keil_v5\C51\BIN\C51.EXE App\App_WS2812.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\User;.\L
                    -ib;.\Hardware;.\App;.\Bare-MetalMultitasking;.\Hardware\I2Csoft_oled) DEBUG OBJECTEXTEND PRINT(.\Listings\App_WS2812.lst
                    -) OBJECT(.\Objects\App_WS2812.obj)

line level    source

   1          #include "App.h"
   2          #include "task.h"
   3          #include "WS2812B.h"
   4          #include <string.h>
   5          
   6          // 红橙黄绿青蓝紫
   7          // 0 1 2 3 4 5 6 
   8          
   9          /*
  10                  Lv1: TIP显示本关出现的颜色       
  11                  POS会显示情况指示灯（位置相关）
  12                  ACK不显示
  13          */
  14          const u8 Lv1Code[4][4] = {2,5,3,1,     // 答案
  15                                    3,1,4,2, 
  16                                    5,0,1,3,
  17                                    0,3,2,4};
  18          
  19          void Lv1LEDinit(u8 Lv){
  20   1          u8 i,j;
  21   1          u8 init_values[28] = {1,6,3,2,  /* 0  1  2  3  系统给出的例子 [只用改这里] */
  22   1                                0,7,7,7,  /* 4  5  6  7 */       
  23   1                                7,7,7,7,  /* 8  9 10 11 */
  24   1                                7,7,7,7,  /* 12 13 14 15 */
  25   1                                7,7,7,7,  /* 16 17 18 19 */
  26   1                                7,7,7,7,  /* 20 21 22 23 */
  27   1                                7,7,7,7}; /* 24 25 26 27 */
  28   1          
  29   1          /* 使用memcpy复制数据 */
  30   1          memcpy(g_color_array, init_values, sizeof(init_values));
  31   1                                
  32   1                      g_current_line = 0;             // 判断函数需要用到行数进行判断 先初始化到第0行                                                                                 
  33   1                      g_current_color = 0;    // 初始化颜色
  34   1                      g_current_pos = 4;              // 初始化当前位置                                                                       
  35   1                      
  36   1                      for(i=0;i<4;i++){           // 把系统给的例子写入ANS前四个                              
  37   2                  WS2812_WriteColor2Array(ANS, i, init_values[i]);            
  38   2              }
  39   1              
  40   1              // 判断本回合出现的颜色 TIP初始化
  41   1              for(i=0;i<4;i++){
  42   2                  for(j=0;j<7;j++){
  43   3                      if(Lv1Code[Lv - 1][i]==j){
  44   4                          WS2812_WriteColor2Array(TIP, j, j);
  45   4                      }
  46   3                  }
  47   2              }
  48   1                      
  49   1              // 系统给的颜色 的 位置判断
  50   1              GuessColorLv1(Lv - 1);
  51   1              g_current_line = 1;             // 初始化行数\round
  52   1              
  53   1                      
C51 COMPILER V9.60.7.0   APP_WS2812                                                        01/05/2026 22:26:27 PAGE 2   

  54   1                      WS2812_WriteColor2Array(ANS, 4, 0); // 玩家初始位置初始化
  55   1              WS2812_WriteColor2Array(POS, 4, 0);
  56   1      
  57   1      }
  58          
  59          /*
  60                  Lv2: TIP显示本关出现的颜色
  61                  POS不显示
  62                  ACK会显示情况指示灯（位置无关，仅表示个数）
  63          */
  64          const u8 Lv2Code[4][4] = {6,0,2,1,     // 答案
  65                                    4,3,2,5, 
  66                                    2,4,5,0,
  67                                    1,6,3,2};
  68          
  69          void Lv2LEDinit(u8 Lv){//Lv 1234
  70   1          u8 i,j;
  71   1          u8 init_values[28] = {5,1,4,6,  /* 0  1  2  3  系统给出的例子 [只用改这里] */
  72   1                                0,7,7,7,  /* 4  5  6  7 */       
  73   1                                7,7,7,7,  /* 8  9 10 11 */
  74   1                                7,7,7,7,  /* 12 13 14 15 */
  75   1                                7,7,7,7,  /* 16 17 18 19 */
  76   1                                7,7,7,7,  /* 20 21 22 23 */
  77   1                                7,7,7,7}; /* 24 25 26 27 */
  78   1          
  79   1          /* 使用memcpy复制数据 */
  80   1          memcpy(g_color_array, init_values, sizeof(init_values));
  81   1                                
  82   1                      g_current_line = 0;             // 判断函数需要用到行数进行判断 先初始化到第0行                                                                                 
  83   1                      g_current_color = 0;    // 初始化颜色
  84   1                      g_current_pos = 4;              // 初始化当前位置                                                                       
  85   1                      
  86   1                      for(i=0;i<4;i++){           // 把系统给的例子写入ANS前四个                              
  87   2                  WS2812_WriteColor2Array(ANS, i, init_values[i]);            
  88   2              }
  89   1              
  90   1              // 判断本回合出现的颜色 TIP初始化
  91   1              for(i=0;i<4;i++){
  92   2                  for(j=0;j<7;j++){
  93   3                      if(Lv2Code[Lv - 1][i]==j){
  94   4                          WS2812_WriteColor2Array(TIP, j, j);
  95   4                      }
  96   3                  }
  97   2              }
  98   1                      
  99   1              // 系统给的颜色 的 个数判断
 100   1              // Lv2不会显示POS
 101   1              GuessColorLv2(Lv - 1);
 102   1              g_current_line = 1;             // 初始化行数\round
 103   1              
 104   1                      
 105   1                      WS2812_WriteColor2Array(ANS, 4, 0); // 玩家初始位置初始化
 106   1              WS2812_WriteColor2Array(POS, 4, 0);
 107   1              
 108   1      }
 109          
 110          /*
 111                  Lv3: TIP不显示
 112                  POS不显示
 113                  ACK会显示情况指示灯（位置无关，仅表示个数）
 114          */
 115          const u8 Lv3Code[4][4] = {6,2,1,4,     // 答案
C51 COMPILER V9.60.7.0   APP_WS2812                                                        01/05/2026 22:26:27 PAGE 3   

 116                                    5,4,0,1, 
 117                                    2,3,5,6, 
 118                                    3,6,2,0};
 119          
 120          void Lv3LEDinit(u8 Lv){
 121   1          u8 i;
 122   1          u8 init_values[28] = {1,5,3,2,  /* 0  1  2  3  系统给出的例子 [只用改这里] */
 123   1                                0,7,7,7,  /* 4  5  6  7 */       
 124   1                                7,7,7,7,  /* 8  9 10 11 */
 125   1                                7,7,7,7,  /* 12 13 14 15 */
 126   1                                7,7,7,7,  /* 16 17 18 19 */
 127   1                                7,7,7,7,  /* 20 21 22 23 */
 128   1                                7,7,7,7}; /* 24 25 26 27 */
 129   1          
 130   1          /* 使用memcpy复制数据 */
 131   1          memcpy(g_color_array, init_values, sizeof(init_values));
 132   1                                
 133   1                      g_current_line = 0;             // 判断函数需要用到行数进行判断 先初始化到第0行                                                                                 
 134   1                      g_current_color = 0;    // 初始化颜色
 135   1                      g_current_pos = 4;              // 初始化当前位置                                                                       
 136   1                      
 137   1                      for(i=0;i<4;i++){           // 把系统给的例子写入ANS前四个                              
 138   2                  WS2812_WriteColor2Array(ANS, i, init_values[i]);            
 139   2              }
 140   1              
 141   1              // Lv3不显示 TIP
 142   1                      
 143   1              // 系统给的颜色 的 个数判断
 144   1              GuessColorLv3(Lv - 1);
 145   1              g_current_line = 1;             // 初始化行数\round
 146   1                      
 147   1                      WS2812_WriteColor2Array(ANS, 4, 0); // 玩家初始位置初始化
 148   1              WS2812_WriteColor2Array(POS, 4, 0);
 149   1              
 150   1      }
 151          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    558    ----
   CONSTANT SIZE    =     84    ----
   XDATA SIZE       =     48      92
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
