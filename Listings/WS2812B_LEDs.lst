C51 COMPILER V9.60.7.0   WS2812B_LEDS                                                      01/05/2026 22:26:27 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE WS2812B_LEDS
OBJECT MODULE PLACED IN .\Objects\WS2812B_LEDs.obj
COMPILER INVOKED BY: E:\AAAAAA\Keil_v5\C51\BIN\C51.EXE Hardware\WS2812B_LEDs.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\U
                    -ser;.\Lib;.\Hardware;.\App;.\Bare-MetalMultitasking;.\Hardware\I2Csoft_oled) DEBUG OBJECTEXTEND PRINT(.\Listings\WS2812B
                    -_LEDs.lst) OBJECT(.\Objects\WS2812B_LEDs.obj)

line level    source

   1          #include "task.h"
   2          #include "WS2812B.h"
   3          
   4          //MAIN_NUM:                                     35
   5          //4*7 = 28盏 操作灯  ANS_NUM
   6          //+7盏             指示灯        TIP_NUM
   7          u8      xdata  main_led_RGB[MAIN_NUM][3];       
   8          
   9          //OTHER_NUM:
  10          //4*7 = 28盏 位置灯
  11          //4*7 = 28盏 校验灯
  12          u8      xdata  other_led_RGB[OTHER_NUM][3];
  13          
  14          u8      xdata  main_led_SPI[MAIN_SPI_NUM];                      //LED灯对应SPI字节数
  15          u8      xdata  other_led_SPI[OTHER_SPI_NUM];            //LED灯对应SPI字节数
  16          
  17          void WS2812_initLED(){ 
  18   1          u16 i = 0;
  19   1                      // 初始化全部灯
  20   1                      // 初始化main_led_RGB (35个灯)
  21   1                      for(i = 0; i < MAIN_NUM ; i++){
  22   2                                      main_led_RGB[i][0] = 0;
  23   2                                      main_led_RGB[i][1] = 0;
  24   2                                      main_led_RGB[i][2] = 0;
  25   2                      }
  26   1                      
  27   1                      // 初始化other_led_RGB (56个灯)
  28   1                      for(i = 0; i < OTHER_NUM ; i++){
  29   2                                      other_led_RGB[i][0] = 0;
  30   2                                      other_led_RGB[i][1] = 0;
  31   2                                      other_led_RGB[i][2] = 0;
  32   2                      }    
  33   1              
  34   1                      WS2812_RefreshLEDColor(0);
  35   1                      WS2812_RefreshLEDColor(0);
  36   1                      WS2812_RefreshLEDColor(1);
  37   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    169    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   1365    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
